<!DOCTYPE html>

<html>

<head>
    <!--
    This site was based on the Represent.LA project by:
    - Alex Benzer (@abenzer)
    - Tara Tiger Brown (@tara)
    - Sean Bonner (@seanbonner)

    Create a map for your startup community!
    https://github.com/abenzer/represent-map
    -->
    <title>Mapa Desbravalley - Comunidade Inovadora do Oeste Catarinense </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta charset="UTF-8">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans+Condensed:700|Open+Sans:400,700' rel='stylesheet'
        type='text/css'>

    <link rel="stylesheet" href="map.css?nocache=289671982568" type="text/css" />
    <link rel="stylesheet" media="only screen and (max-device-width: 480px)" href="mobile.css" type="text/css" />
    <script src="./scripts/jquery-1.7.1.js" type="text/javascript" charset="utf-8"></script>


    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?sensor=false"></script>

    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB6htqPkYiH2dKVcyOPI32UVaQMyKumDzs&callback=initMap"
        type="text/javascript"></script>
    <script type="text/javascript" src="./scripts/label.js"></script>

    <style>
        li {
            line-height: 18px;
        }

        ul {
            list-style: disc;
        }

        body {
            margin: 0;
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
            font-size: 13px;
            line-height: 18px;
            color: #333333;
            background-color: #ffffff;
        }

        a {
            color: #0088cc;
            text-decoration: none;
        }

        html {
            font-size: 100%;
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
        }

        img {
            max-width: 100%;
            vertical-align: middle;
            border: 0;
            -ms-interpolation-mode: bicubic;
        }
    </style>

    <script type="text/javascript">
        var map;
        var infowindow = null;
        var gmarkers = [];
        var markerTitles = [];
        var highestZIndex = 0;
        var agent = "default";
        var zoomControl = true;

        // resize marker list onload/resize
        $(document).ready(function () {
            resizeList()
        });
        $(window).resize(function () {
            resizeList();
        });

        // resize marker list to fit window
        function resizeList() {
            newHeight = $('html').height() - $('#topbar').height();
            $('#list').css('height', newHeight + "px");
            $('#menu').css('margin-top', $('#topbar').height());
        }


        // initialize map
        function initialize() {
            // set map styles
            var mapStyles = [{
                featureType: "road",
                elementType: "geometry",
                stylers: [{
                    hue: "#8800ff"
                },
                {
                    lightness: 100
                }
                ]
            }, {
                featureType: "road",
                stylers: [{
                    visibility: "on"
                },
                {
                    hue: "#91ff00"
                },
                {
                    saturation: -62
                },
                {
                    gamma: 1.98
                },
                {
                    lightness: 45
                }
                ]
            }, {
                featureType: "water",
                stylers: [{
                    hue: "#005eff"
                },
                {
                    gamma: 0.72
                },
                {
                    lightness: 42
                }
                ]
            }, {
                featureType: "transit.line",
                stylers: [{
                    visibility: "off"
                }]
            }, {
                featureType: "administrative.locality",
                stylers: [{
                    visibility: "on"
                }]
            }, {
                featureType: "administrative.neighborhood",
                elementType: "geometry",
                stylers: [{
                    visibility: "simplified"
                }]
            }, {
                featureType: "landscape",
                stylers: [{
                    visibility: "on"
                },
                {
                    gamma: 0.41
                },
                {
                    lightness: 46
                }
                ]
            }, {
                featureType: "administrative.neighborhood",
                elementType: "labels.text",
                stylers: [{
                    visibility: "on"
                },
                {
                    saturation: 33
                },
                {
                    lightness: 20
                }
                ]
            }];

            // set map options
            var myOptions = {
                zoom: 8,
                //minZoom: 10,
                center: new google.maps.LatLng(-27.0755519, -52.715843),
                mapTypeId: google.maps.MapTypeId.ROADMAP,
                streetViewControl: false,
                mapTypeControl: false,
                panControl: false,
                zoomControl: zoomControl,
                styles: mapStyles,
                zoomControlOptions: {
                    style: google.maps.ZoomControlStyle.SMALL,
                    position: google.maps.ControlPosition.LEFT_CENTER
                }
            };
            map = new google.maps.Map(document.getElementById('map_canvas'), myOptions);
            zoomLevel = map.getZoom();

            // prepare infowindow
            infowindow = new google.maps.InfoWindow({
                content: "holding..."
            });

            // only show marker labels if zoomed in
            google.maps.event.addListener(map, 'zoom_changed', function () {
                zoomLevel = map.getZoom();
                if (zoomLevel <= 15) {
                    $(".marker_label").css("display", "none");
                } else {
                    $(".marker_label").css("display", "inline");
                }
            });

            // markers array: name, type (icon), lat, long, description, uri, address
            markers = new Array();

            markers.push(['123WeddingCards', 'empresas', '34.1924', '-118.323', '123WeddingCards is an exclusive online store for wedding invitations with beautiful designs, genuine wedding wordings, distinguished texture.', 'http://www.123weddingcards.com/', '1555 Scott Road, Apt 308, Burbank, CA 91504']);
            markerTitles[0] = '123WeddingCards';

            // add markers
            jQuery.each(markers, function (i, val) {
                infowindow = new google.maps.InfoWindow({
                    content: ""
                });

                // offset latlong ever so slightly to prevent marker overlap
                rand_x = Math.random();
                rand_y = Math.random();
                val[2] = parseFloat(val[2]) + parseFloat(parseFloat(rand_x) / 6000);
                val[3] = parseFloat(val[3]) + parseFloat(parseFloat(rand_y) / 6000);

                // show smaller marker icons on mobile
                if (agent == "iphone") {
                    var iconSize = new google.maps.Size(16, 19);
                } else {
                    iconSize = null;
                }

                // build this marker
                var markerImage = new google.maps.MarkerImage("./images/icones/" + val[1] + ".png", null, null, null, iconSize);
                var marker = new google.maps.Marker({
                    position: new google.maps.LatLng(val[2], val[3]),
                    map: map,
                    title: '',
                    clickable: true,
                    infoWindowHtml: '',
                    zIndex: 10 + i,
                    icon: markerImage
                });
                marker.type = val[1];
                gmarkers.push(marker);

                // add marker hover events (if not viewing on mobile)
                if (agent == "default") {
                    google.maps.event.addListener(marker, "mouseover", function () {
                        this.old_ZIndex = this.getZIndex();
                        this.setZIndex(9999);
                        $("#marker" + i).css("display", "inline");
                        $("#marker" + i).css("z-index", "99999");
                    });
                    google.maps.event.addListener(marker, "mouseout", function () {
                        if (this.old_ZIndex && zoomLevel <= 15) {
                            this.setZIndex(this.old_ZIndex);
                            $("#marker" + i).css("display", "none");
                        }
                    });
                }

                // format marker URI for display and linking
                var markerURI = val[5];
                if (markerURI.substr(0, 7) != "http://") {
                    markerURI = "http://" + markerURI;
                }
                var markerURI_short = markerURI.replace("http://", "");
                var markerURI_short = markerURI_short.replace("www.", "");

                // add marker click effects (open infowindow)
                google.maps.event.addListener(marker, 'click', function () {
                    infowindow.setContent(
                        "<div class='marker_title'>" + val[0] + "</div>" +
                        "<div class='marker_uri'><a target='_blank' href='" + markerURI + "'>" + markerURI_short + "</a></div>" +
                        "<div class='marker_desc'>" + val[4] + "</div>" +
                        "<div class='marker_address'>" + val[6] + "</div>"
                    );
                    infowindow.open(map, this);
                });

                // add marker label
                var latLng = new google.maps.LatLng(val[2], val[3]);
                var label = new Label({
                    map: map,
                    id: i
                });
                label.bindTo('position', marker);
                label.set("text", val[0]);
                label.bindTo('visible', marker);
                label.bindTo('clickable', marker);
                label.bindTo('zIndex', marker);
            });


            // zoom to marker if selected in search typeahead list
            $('#search').typeahead({
                source: markerTitles,
                onselect: function (obj) {
                    marker_id = jQuery.inArray(obj, markerTitles);
                    if (marker_id > -1) {
                        map.panTo(gmarkers[marker_id].getPosition());
                        map.setZoom(15);
                        google.maps.event.trigger(gmarkers[marker_id], 'click');
                    }
                    $("#search").val("");
                }
            });
        }

        // zoom to specific marker
        function goToMarker(marker_id) {

            if (marker_id) {

                map.panTo(gmarkers[marker_id].getPosition());

                map.setZoom(15);

                google.maps.event.trigger(gmarkers[marker_id], 'click');
            }
        }

        // toggle (hide/show) markers of a given type (on the map)
        function toggle(type) {
            if ($('#filter_' + type).is('.inactive')) {
                show(type);
            } else {
                hide(type);
            }
        }

        // hide all markers of a given type
        function hide(type) {
            for (var i = 0; i < gmarkers.length; i++) {
                if (gmarkers[i].type == type) {
                    gmarkers[i].setVisible(false);
                }
            }
            $("#filter_" + type).addClass("inactive");
        }

        // show all markers of a given type
        function show(type) {
            for (var i = 0; i < gmarkers.length; i++) {
                if (gmarkers[i].type == type) {
                    gmarkers[i].setVisible(true);
                }
            }
            $("#filter_" + type).removeClass("inactive");
        }

        // toggle (hide/show) marker list of a given type
        function toggleList(type) {
            $("#list .list-" + type).toggle();
        }

        // hover on list item
        function markerListMouseOver(marker_id) {
            $("#marker" + marker_id).css("display", "inline");
        }

        function markerListMouseOut(marker_id) {
            $("#marker" + marker_id).css("display", "none");
        }

        google.maps.event.addDomListener(window, 'load', initialize);
    </script>

</head>

<body>

    <!-- google map -->
    <div id="map_canvas"></div>

    <!-- right-side gutter -->
    <div class="menu" id="menu">
        <ul class="list" id="list">


            <!--
            <li class='category'>
                <div class='category_item'>
                    <div class='category_toggle' onClick="toggle('aceleradora')" id='filter_aceleradora'></div>
                    <a href='#' onClick="toggleList('aceleradora');" class='category_info'><img
                            src='./images/icones/aceleradora.png' alt='' />Aceleradora<span class='total'>
                            (0)</span></a>
                </div>
                <ul class='list-items list-aceleradora'>

                </ul>
            </li> -->
            <!--
            <li class='category'>
                <div class='category_item'>
                    <div class='category_toggle' onClick="toggle('agencia_de_fomento')" id='filter_agencia_de_fomento'>
                    </div>
                    <a href='#' onClick="toggleList('agencia_de_fomento');" class='category_info'><img
                            src='./images/icones/agencia_fomento.png' alt='' />Agência de fomento<span class='total'>
                            (0)</span></a>
                </div>
                <ul class='list-items list-agencia_de_fomento'>

                </ul>
            </li>
-->
            <li class='category'>
                <div class='category_item'>
                    <div class='category_toggle' onClick="toggle('coworking')" id='filter_coworking'></div>
                    <a href='#' onClick="toggleList('coworking');" class='category_info'><img
                            src='./images/icones/coworking.png' alt='' />Coworking<span class='total'> (0)</span></a>
                </div>
                <ul class='list-items list-coworking'>

                </ul>
            </li>

            <li class='category'>
                <div class='category_item'>
                    <div class='category_toggle' onClick="toggle('consultoria')" id='filter_consultoria'></div>
                    <a href='#' onClick="toggleList('consultoria');" class='category_info'><img
                            src='./images/icones/consultoria.png' alt='' />Consultoria<span class='total'>
                            (0)</span></a>
                </div>
                <ul class='list-items list-consultoria'>

                </ul>
            </li>

            <li class='category'>
                <div class='category_item'>
                    <div class='category_toggle' onClick="toggle('fund_apoio')" id='filter_fund_apoio'>
                    </div>
                    <a href='#' onClick="toggleList('fund_apoio');" class='category_info'><img
                            src='./images/icones/fund_apoio.png' alt='' />Fundação de Apoio<span class='total'>
                            (0)</span></a>
                </div>
                <ul class='list-items list-fund_apoio'>

                </ul>
            </li>


            <li class='category'>
                <div class='category_item'>
                    <div class='category_toggle' onClick="toggle('empresas')" id='filter_empresas'></div>
                    <a href='#' onClick="toggleList('empresas');" class='category_info'><img
                            src='./images/icones/empresas.png' alt='' />Empresa<span class='total'> (0)</span></a>
                </div>
                <ul class='list-items list-empresas'>
                    <li class='empresas'>
                        <a href='#' onMouseOver="markerListMouseOver('0')" onMouseOut="markerListMouseOut('0')"
                            onClick="goToMarker('0');">123WeddingCards</a>
                    </li>

                </ul>
            </li>

            <!--    <li class='category'>
                <div class='category_item'>
                    <div class='category_toggle' onClick="toggle('escola')" id='filter_escola'></div>
                    <a href='#' onClick="toggleList('escola');" class='category_info'><img
                            src='./images/icones/escola.png' alt='' />Escola<span class='total'> (0)</span></a>
                </div>
                <ul class='list-items list-escola'>

                </ul>
            </li>-->

            <!--    <li class='category'>
                <div class='category_item'>
                    <div class='category_toggle' onClick="toggle('espaco_de_inovacao')" id='filter_espaco_de_inovacao'>
                    </div>
                    <a href='#' onClick="toggleList('espaco_de_inovacao');" class='category_info'><img
                            src='./images/icones/espaço_inovacao.png' alt='' />Espaço de Inovação<span class='total'>
                            (0)</span></a>
                </div>
                <ul class='list-items list-espaco_de_inovacao'>

                </ul>
            </li>-->

            <li class='category'>
                <div class='category_item'>
                    <div class='category_toggle' onClick="toggle('Incubadora')" id='filter_Incubadora'></div>
                    <a href='#' onClick="toggleList('Incubadora');" class='category_info'><img
                            src='./images/icones/Incubadora.png' alt='' />Incubadora<span class='total'> (0)</span></a>
                </div>
                <ul class='list-items list-Incubadora'>

                </ul>
            </li>

            <li class='category'>
                <div class='category_item'>
                    <div class='category_toggle' onClick="toggle('fundos_investimento')"
                        id='filter_fundos_investimento'></div>
                    <a href='#' onClick="toggleList('fundos_investimento');" class='category_info'><img
                            src='./images/icones/fundos_investimento.png' alt='' />Investidor<span class='total'>
                            (0)</span></a>
                </div>
                <ul class='list-items list-fundos_investimento'>

                </ul>
            </li>

            <li class='category'>
                <div class='category_item'>
                    <div class='category_toggle' onClick="toggle('inst_ensino')" id='filter_inst_ensino'></div>
                    <a href='#' onClick="toggleList('inst_ensino');" class='category_info'><img
                            src='./images/icones/inst_ensino.png' alt='' />Inst. de Ensino Superior<span class='total'>
                            (0)</span></a>
                </div>
                <ul class='list-items list-inst_ensino'>

                </ul>
            </li>




            <li class='category'>
                <div class='category_item'>
                    <div class='category_toggle' onClick="toggle('parque_tecnologico')" id='filter_parque_tecnologico'>
                    </div>
                    <a href='#' onClick="toggleList('parque_tecnologico');" class='category_info'><img
                            src='./images/icones/parque_tecnologico.png' alt='' />Parque tecnológico<span class='total'>
                            (0)</span></a>
                </div>
                <ul class='list-items list-parque_tecnologico'>

                </ul>
            </li>

            <!--  <li class='category'>
                <div class='category_item'>
                    <div class='category_toggle' onClick="toggle('pesquisador')" id='filter_pesquisador'></div>
                    <a href='#' onClick="toggleList('pesquisador');" class='category_info'><img
                            src='./images/icones/pesquisador.png' alt='' />Pesquisador<span class='total'>
                            (0)</span></a>
                </div>
                <ul class='list-items list-pesquisador'>

                </ul>
            </li>-->


            <li class='category'>
                <div class='category_item'>
                    <div class='category_toggle' onClick="toggle('startup')" id='filter_startup'></div>
                    <a href='#' onClick="toggleList('startup');" class='category_info'><img
                            src='./images/icones/startup.png' alt='' />Startups<span class='total'> (0)</span></a>
                </div>
                <ul class='list-items list-startup'>


                </ul>
            </li>

            <li class='category'>
                <div class='category_item'>
                    <div class='category_toggle' onClick="toggle('outros')" id='filter_outros'></div>
                    <a href='#' onClick="toggleList('outros');" class='category_info'><img
                            src='./images/icones/outros.png' alt='' />Outros<span class='total'> (0)</span></a>
                </div>
                <ul class='list-items list-outros'>

                </ul>
            </li>


            <li class="blurb">O objetivo deste mapa é promover a Comunidade Inovadora do Oeste de SC - Desbravalley.
                Vamos colocar a região oeste no mapa!!!</li>
            <li class="attribution">
                <!-- per our license, you may not remove this line -->
                <span>
                    Criado com <a href='http://www.represent.la' target='_blank'>RepresentLA</a>
                </span>
            </li>
        </ul>
    </div>
</body>

</html>